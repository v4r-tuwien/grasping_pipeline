<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>7.3.1. direct_grasppose_estimator.DirectGraspposeEstimatorCaller &mdash; Grasping Pipeline 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=10e673fd" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=e031e9a9"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=35a8b989"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="7.4. execute_grasp_action_server" href="execute_grasp_action_server.html" />
    <link rel="prev" title="7.3. direct_grasppose_estimator" href="direct_grasppose_estimator.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Grasping Pipeline
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../startup.html">2. Starting the grasping pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adding_new_estimators.html">3. Adding a new estimator or detector to the grasping pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adding_new_objects.html">4. Adding new objects to the grasping pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview_state_machine.html">5. Overview of the statemachine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../details_state_machine.html">6. Detailed Description of the state machine</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">7. API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="check_table_clean.html">7.1. check_table_clean</a></li>
<li class="toctree-l2"><a class="reference internal" href="collision_environment.html">7.2. collision_environment</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="direct_grasppose_estimator.html">7.3. direct_grasppose_estimator</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">7.3.1. direct_grasppose_estimator.DirectGraspposeEstimatorCaller</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller"><code class="docutils literal notranslate"><span class="pre">DirectGraspposeEstimatorCaller</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="execute_grasp_action_server.html">7.4. execute_grasp_action_server</a></li>
<li class="toctree-l2"><a class="reference internal" href="find_table_planes.html">7.5. find_table_planes</a></li>
<li class="toctree-l2"><a class="reference internal" href="grasp_annotator.html">7.6. grasp_annotator</a></li>
<li class="toctree-l2"><a class="reference internal" href="grasp_method_selector.html">7.7. grasp_method_selector</a></li>
<li class="toctree-l2"><a class="reference internal" href="grasppose_estimator.html">7.8. grasppose_estimator</a></li>
<li class="toctree-l2"><a class="reference internal" href="hsr_wrapper.html">7.9. hsr_wrapper</a></li>
<li class="toctree-l2"><a class="reference internal" href="image_fetcher.html">7.10. image_fetcher</a></li>
<li class="toctree-l2"><a class="reference internal" href="moveit_wrapper.html">7.11. moveit_wrapper</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_detector.html">7.12. object_detector</a></li>
<li class="toctree-l2"><a class="reference internal" href="place.html">7.13. place</a></li>
<li class="toctree-l2"><a class="reference internal" href="pose_estimator.html">7.14. pose_estimator</a></li>
<li class="toctree-l2"><a class="reference internal" href="robot_control.html">7.15. robot_control</a></li>
<li class="toctree-l2"><a class="reference internal" href="statemachine_components.html">7.16. statemachine_components</a></li>
<li class="toctree-l2"><a class="reference internal" href="statemachine_llm.html">7.17. statemachine_llm</a></li>
<li class="toctree-l2"><a class="reference internal" href="statemachine.html">7.18. statemachine</a></li>
<li class="toctree-l2"><a class="reference internal" href="userinput.html">7.19. userinput</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualizer.html">7.20. visualizer</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Grasping Pipeline</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../api.html"><span class="section-number">7. </span>API</a></li>
          <li class="breadcrumb-item"><a href="direct_grasppose_estimator.html"><span class="section-number">7.3. </span>direct_grasppose_estimator</a></li>
      <li class="breadcrumb-item active"><span class="section-number">7.3.1. </span>direct_grasppose_estimator.DirectGraspposeEstimatorCaller</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_autosummary/direct_grasppose_estimator.DirectGraspposeEstimatorCaller.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="direct-grasppose-estimator-directgraspposeestimatorcaller">
<h1><span class="section-number">7.3.1. </span>direct_grasppose_estimator.DirectGraspposeEstimatorCaller<a class="headerlink" href="#direct-grasppose-estimator-directgraspposeestimatorcaller" title="Permalink to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="direct_grasppose_estimator.DirectGraspposeEstimatorCaller">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">direct_grasppose_estimator.</span></span><span class="sig-name descname"><span class="pre">DirectGraspposeEstimatorCaller</span></span><a class="headerlink" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Calls a service that directly estimates the grasppose.</p>
<p>Calls a service that directly estimates the grasppose without needing an
object pose and annotations. The topic of the service is defined in the
parameter ‘/grasping_pipeline/grasppoint_estimator_topic’. The results are
published as a marker in the rviz visualization with the topic
‘/grasping_pipeline/grasp_marker’.</p>
<p>If an object to grasp is specified, the service will only estimate the
grasppose of the specified object. If no object is specified, the service
will only estimate the grasppose of the closest object to the camera.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rgb</strong> (<em>sensor_msgs.msg.Image</em>) – The RGB image of the scene.</p></li>
<li><p><strong>depth</strong> (<em>sensor_msgs.msg.Image</em>) – The depth image of the scene.</p></li>
<li><p><strong>mask_detections</strong> (<em>list</em><em> of </em><em>sensor_msgs.msg.Image</em>) – The object masks.</p></li>
<li><p><strong>bb_detections</strong> (<em>list</em><em> of </em><em>sensor_msgs.msg.RegionOfInterest</em>) – The 2D bounding boxes of the objects.</p></li>
<li><p><strong>class_names</strong> (<em>list</em><em> of </em><em>str</em>) – The class names of the objects.</p></li>
<li><p><strong>object_to_grasp</strong> (<em>str</em>) – The name of the object to grasp. If empty, the closest object to the camera is grasped.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="direct_grasppose_estimator.DirectGraspposeEstimatorCaller.bridge">
<span class="sig-name descname"><span class="pre">bridge</span></span><a class="headerlink" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller.bridge" title="Permalink to this definition"></a></dt>
<dd><p>The OpenCV bridge to convert images.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>CvBridge</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="direct_grasppose_estimator.DirectGraspposeEstimatorCaller.srv">
<span class="sig-name descname"><span class="pre">srv</span></span><a class="headerlink" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller.srv" title="Permalink to this definition"></a></dt>
<dd><p>This service. Calls the direct grasppose estimator when called.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>rospy.Service</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="direct_grasppose_estimator.DirectGraspposeEstimatorCaller.cam_info">
<span class="sig-name descname"><span class="pre">cam_info</span></span><a class="headerlink" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller.cam_info" title="Permalink to this definition"></a></dt>
<dd><p>The camera information/intrinsics.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>sensor_msgs.msg.CameraInfo</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="direct_grasppose_estimator.DirectGraspposeEstimatorCaller.marker_pub">
<span class="sig-name descname"><span class="pre">marker_pub</span></span><a class="headerlink" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller.marker_pub" title="Permalink to this definition"></a></dt>
<dd><p>The publisher that publishes the markers in the rviz visualization.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>rospy.Publisher</p>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rospy.ServiceException</strong> – If the direct grasppose estimator service times out or fails to estimate the grasppose
    or if no mask or bounding box detections are provided.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>grasp_poses</strong> (<em>list of geometry_msgs.msg.PoseStamped</em>) – The estimated graspposes.</p></li>
<li><p><strong>grasp_object_bb</strong> (<em>grasping_pipeline_msgs.msg.BoundingBoxStamped</em>) – The bounding box of the object to grasp.</p></li>
<li><p><strong>grasp_object_name</strong> (<em>str</em>) – The name of the object to grasp.</p></li>
</ul>
</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="direct_grasppose_estimator.DirectGraspposeEstimatorCaller.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller.__init__" title="direct_grasppose_estimator.DirectGraspposeEstimatorCaller.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller.add_bb_marker" title="direct_grasppose_estimator.DirectGraspposeEstimatorCaller.add_bb_marker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_bb_marker</span></code></a>(object_bb_stamped)</p></td>
<td><p>Adds a marker to the rviz visualization to show the bounding box of the object.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller.add_marker" title="direct_grasppose_estimator.DirectGraspposeEstimatorCaller.add_marker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_marker</span></code></a>(pose_goal)</p></td>
<td><p>Adds a marker to the rviz visualization to show the grasp pose.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller.execute" title="direct_grasppose_estimator.DirectGraspposeEstimatorCaller.execute"><code class="xref py py-obj docutils literal notranslate"><span class="pre">execute</span></code></a>(req)</p></td>
<td><p>Calls the direct grasppose estimator service and returns the grasppose.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller.get_3D_bbs" title="direct_grasppose_estimator.DirectGraspposeEstimatorCaller.get_3D_bbs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_3D_bbs</span></code></a>(depth, masks, bbs_2d)</p></td>
<td><p>Extracts the 3D bounding boxes of the objects.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller.get_bb_3D_from_bb" title="direct_grasppose_estimator.DirectGraspposeEstimatorCaller.get_bb_3D_from_bb"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_bb_3D_from_bb</span></code></a>(depth, depth_np, bb_2d)</p></td>
<td><p>Extracts the 3D bounding box of the object from the 2D bounding box.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller.get_bb_3D_from_mask" title="direct_grasppose_estimator.DirectGraspposeEstimatorCaller.get_bb_3D_from_mask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_bb_3D_from_mask</span></code></a>(depth, depth_np, mask)</p></td>
<td><p>Extracts the 3D bounding box of the object from the mask.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller.get_bb_center_poses" title="direct_grasppose_estimator.DirectGraspposeEstimatorCaller.get_bb_center_poses"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_bb_center_poses</span></code></a>(bbs)</p></td>
<td><p>Extracts the center poses of the bounding boxes.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller.get_closest_object" title="direct_grasppose_estimator.DirectGraspposeEstimatorCaller.get_closest_object"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_closest_object</span></code></a>(object_poses)</p></td>
<td><p>Returns the index of the closest object in the estimator result.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="direct_grasppose_estimator.DirectGraspposeEstimatorCaller.add_bb_marker">
<span class="sig-name descname"><span class="pre">add_bb_marker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_bb_stamped</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller.add_bb_marker" title="Permalink to this definition"></a></dt>
<dd><p>Adds a marker to the rviz visualization to show the bounding box of the object.</p>
<p>The marker is a blue bounding box.
The topic of the marker is ‘/grasping_pipeline/grasp_marker’. The marker is published
in the namespace ‘bb_marker’ with id 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>object_bb_stamped</strong> (<em>grasping_pipeline_msgs.msg.BoundingBoxStamped</em>) – The bounding box of the object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="direct_grasppose_estimator.DirectGraspposeEstimatorCaller.add_marker">
<span class="sig-name descname"><span class="pre">add_marker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pose_goal</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller.add_marker" title="Permalink to this definition"></a></dt>
<dd><p>Adds a marker to the rviz visualization to show the grasp pose.</p>
<p>The marker is an arrow pointing in the direction of the grasp pose. The arrow is red.
The topic of the marker is ‘/grasping_pipeline/grasp_marker’. The marker is published
in the namespace ‘grasp_marker’ with id 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pose_goal</strong> (<em>geometry_msgs.msg.PoseStamped</em>) – The pose of the grasp.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="direct_grasppose_estimator.DirectGraspposeEstimatorCaller.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">req</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller.execute" title="Permalink to this definition"></a></dt>
<dd><p>Calls the direct grasppose estimator service and returns the grasppose.</p>
<p>If an object to grasp is specified, the service will only estimate the
grasppose of the specified object. If no object is specified, the service
will only estimate the grasppose of the closest object to the camera.</p>
<p>If no mask or bounding box detections are provided, the service will raise
an error.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>req</strong> (<em>grasping_pipeline_msgs.srv.CallDirectGraspPoseEstimatorRequest</em>) – The request to the service. Contains the RGB image, depth image, mask detections,
bounding box detections, class names, and (optionally) the name of the object to grasp.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>rospy.ServiceException</strong> – If the direct grasppose estimator service times out or fails to estimate the grasppose
    or if no mask or bounding box detections are provided.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The response of the service. Contains the name of the object to grasp, the bounding box
of the object, and the estimated graspposes.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>grasping_pipeline_msgs.srv.CallDirectGraspPoseEstimatorResponse</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="direct_grasppose_estimator.DirectGraspposeEstimatorCaller.get_3D_bbs">
<span class="sig-name descname"><span class="pre">get_3D_bbs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">masks</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbs_2d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller.get_3D_bbs" title="Permalink to this definition"></a></dt>
<dd><p>Extracts the 3D bounding boxes of the objects.</p>
<p>If masks are provided, the 3D bounding boxes are extracted from the masks
and the depth image. Otherwise, if 2D bounding boxes are provided, the 3D
bounding boxes are extracted from the 2D bounding boxes. If neither masks
nor 2D bounding boxes are provided, an error is raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>depth</strong> (<em>sensor_msgs.msg.Image</em>) – The depth image.</p></li>
<li><p><strong>masks</strong> (<em>list</em><em> of </em><em>sensor_msgs.msg.Image</em>) – The object masks.</p></li>
<li><p><strong>bbs_2d</strong> (<em>list</em><em> of </em><em>sensor_msgs.msg.RegionOfInterest</em>) – The 2D bounding boxes of the objects.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="direct_grasppose_estimator.DirectGraspposeEstimatorCaller.get_bb_3D_from_bb">
<span class="sig-name descname"><span class="pre">get_bb_3D_from_bb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth_np</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bb_2d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller.get_bb_3D_from_bb" title="Permalink to this definition"></a></dt>
<dd><p>Extracts the 3D bounding box of the object from the 2D bounding box.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>depth</strong> (<em>sensor_msgs.msg.Image</em>) – The depth image.</p></li>
<li><p><strong>depth_np</strong> (<em>numpy.ndarray</em>) – The depth image as a numpy array.</p></li>
<li><p><strong>bb_2d</strong> (<em>sensor_msgs.msg.RegionOfInterest</em>) – The 2D bounding box of the object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="direct_grasppose_estimator.DirectGraspposeEstimatorCaller.get_bb_3D_from_mask">
<span class="sig-name descname"><span class="pre">get_bb_3D_from_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth_np</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller.get_bb_3D_from_mask" title="Permalink to this definition"></a></dt>
<dd><p>Extracts the 3D bounding box of the object from the mask.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>depth</strong> (<em>sensor_msgs.msg.Image</em>) – The depth image.</p></li>
<li><p><strong>depth_np</strong> (<em>numpy.ndarray</em>) – The depth image as a numpy array.</p></li>
<li><p><strong>mask</strong> (<em>sensor_msgs.msg.Image</em>) – The object mask.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The 3D bounding box of the object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>grasping_pipeline_msgs.msg.BoundingBoxStamped</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="direct_grasppose_estimator.DirectGraspposeEstimatorCaller.get_bb_center_poses">
<span class="sig-name descname"><span class="pre">get_bb_center_poses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bbs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller.get_bb_center_poses" title="Permalink to this definition"></a></dt>
<dd><p>Extracts the center poses of the bounding boxes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>bbs</strong> (<em>list of</em>) – A list of bounding boxes.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of the center poses of the bounding boxes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="direct_grasppose_estimator.DirectGraspposeEstimatorCaller.get_closest_object">
<span class="sig-name descname"><span class="pre">get_closest_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_poses</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#direct_grasppose_estimator.DirectGraspposeEstimatorCaller.get_closest_object" title="Permalink to this definition"></a></dt>
<dd><p>Returns the index of the closest object in the estimator result.</p>
<p>The closest object is determined by the distance to the camera. The distance is calculated
as the euclidean distance from the camera to the object pose.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>estimator_result</strong> (<em>GenericImgProcAnnotatorResult</em>) – The result of the pose estimator.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If no close object is found.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The index of the closest object in the estimator result.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="direct_grasppose_estimator.html" class="btn btn-neutral float-left" title="7.3. direct_grasppose_estimator" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="execute_grasp_action_server.html" class="btn btn-neutral float-right" title="7.4. execute_grasp_action_server" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Alexander Haberl.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>